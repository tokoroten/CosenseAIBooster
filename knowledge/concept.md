# CosenseAIBoosterの仕様

対象となるサービスは cosense、旧 Scrapbox
https://scrapbox.io/
https://cosen.se/

## 実装済みの主要機能

### 設定画面
- Chrome拡張機能の設定画面を利用
- 設定画面では、以下の項目を設定できる
  - プロンプトの編集・追加
  - プロンプトの適用方法（挿入位置など）
  - 音声入力の言語設定
  - APIプロバイダー選択（OpenAI/OpenRouter）
  - APIキーの設定（セキュリティ対策済み）
  - モデル選択

### UI拡張
- Cosenseのページ内に拡張機能のUIを統合
- `CosenseDOMUtils`と`react-cosense-dom`ユーティリティを使用
- ポップアップメニューに登録済みプロンプトのボタンを追加

### 音声入力機能
- マイクボタンによる音声入力モードの提供
- WebSpeech APIを使用した音声認識
- 権限エラー時のユーザー通知機能

### プロンプトの適用
- ページ内の文章を選択すると、「プロンプトAを適用」といったメニューが表示される
- ページ内の特定の文章に対してプロンプトを適用し、結果を選択範囲の下、もしくは文章の最下部に挿入することができる
- 処理中と結果表示用のダイアログシステム

## 技術スタック
- TypeScript、React、Zustand
- ViteとWXTを使用したビルドシステム
- ESLintとPrettier
- Chrome拡張機能（マニフェストV3）
- WebSpeech API（音声認識）

## セキュリティ設計
- APIキーはバックグラウンドスクリプトでのみ取得・使用し、コンテンツスクリプトには公開しない
- メッセージパッシングによる安全な通信アーキテクチャ
- Chrome Storage Syncを使用して設定を安全に保存

