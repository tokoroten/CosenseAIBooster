# CosenseAIBoosterの仕様

対象となるサービスは cosense、旧 Scrapbox
https://scrapbox.io/

## 以下の機能を作成する

### 設定画面
- 右側のアイコン欄の下に、歯車マークがあり、クリックすると設定画面が開く
- 設定画面は、Chromeの拡張機能の設定画面を利用する
- 設定画面では、以下の項目を設定できる
  - プロンプトの編集・追加
  - プロンプトの適用方法
    - 選択範囲の下に挿入するか、ページの最下部に挿入するかを選択できる
    - どのモデルを適用するのかを選択することができる
  - 音声入力の言語設定
    - 音声入力で使用する言語を選択できる
  - OpenAIのAPIキーの設定
    - OpenAIのAPIキーを入力することで、プロンプトの実行にOpenAIのAPIを利用できるようになる
    - OpenAIのAPIキーは、Extension側に保存されるようにする
    - OpenRouterのAPIキーを設定することを可能にし、無料枠でも利用できるようにする
      - OpenAIの互換APIの利用を可能にするため、エンドポイントの設定も可能にする
      - 可能であればLocalLLMへの接続も可能にする

### 音声入力
- 右側のアイコン欄の下に、マイクマークがあり、マイクマークをクリックすると音声入力モードになる
- 音声入力は、WebSpeechAPIのSpeechRecognitionを利用して実装する

### プロンプトの適用
- ページ内の文章を選択すると、「プロンプトAを適用」といったメニューが表示される
  - ページ内の特定の文章に対してプロンプトを適用し、結果を選択範囲の下、もしくは文章の最下部に挿入することができる
  - プロンプトに対する細かい挙動はExtensionの設定メニューから変更できる

## 開発方針
- node 18で開発する
- TypeScriptで開発する
- ESLintとPrettierを使用してコードを整形する
- Chrome拡張機能のマニフェストバージョンは3を使用する